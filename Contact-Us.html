<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/png" href="Images/QuickSub-Favicon.png">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

  <meta property="og:title" content="Buy Data & Print Recharge Cards Instantly" />
  <meta name="description" content="Buy data, print Recharge card & Data card --QuickSub. Fast, Affordable & Reliable!" />
  <meta property="og:url" content="https://quicksub.vercel.app" />
  <meta property="og:image" content="https://quicksub.vercel.app/Images/QuickSub-Icon.png" />
  <meta property="og:type" content="website" />

  <link rel="stylesheet" href="Contact-Us.css">
  <title>QuickSub - Complaint Chat</title>
  <style>
a {
  text-decoration: none;
  color: inherit;
}
body {
  margin: 0;
  padding: 0;
  font-family: Arial, sans-serif;
  background-color: #1e1e1e;
  color: white;
  display: flex;
  flex-direction: column;
  height: 100vh;
}

  </style>
</head>
<body>
<a href="#" id="scroll-up"></a>
  <div class="top">
  <div class="left-arrow-div">
<a href="javascript:history.go(-1)">
<p id="left-arrow-p">&#x276E;</p>
</a>
  </div>
  <div class="contact-us-div">
<p id="contact-us-p">Contact Us</p>
  </div>
  </div>
<br><br>
<br>

  <div class="error-div">
  <div class="error-svg-div">
<img src="Images/About.svg" id="error-svg">
  </div>
  <div class="error-div-texts">
<p id="error-p">Failed!</p>
<p id="error-description">Failed to send complain, please try again.</p>
  </div>
  </div>

  <div class="chat-container" id="chatContainer"></div>
  <div class="chat-input">
<input type="text" id="messageInput" placeholder="Type Something...">
<button id="send-button" onclick="sendMessage()">
<img src="Images/Send.svg" id="send-svg">
</button>
  </div>


<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>

<script type="text/javascript">
(function(){
  emailjs.init("oLooG8_te8ymnyDtT");
})();
</script>

  <script>

//localStorage.removeItem('quicksubComplains');
 
function disableSendButton() {
  var sendButton = document.getElementById("send-button");
  var sendSvg = document.getElementById("send-svg");
  sendButton.disabled = true;
  sendSvg.src = "Images/Loading.svg";
}

function enableSendButton() {
  var sendButton = document.getElementById("send-button");
  var sendSvg = document.getElementById("send-svg");
  sendButton.disabled = false;
  sendSvg.src = "Images/Send.svg";
}


function showError() {
  var scrollUp = document.getElementById("scroll-up");
  scrollUp.click();
  var errorDiv = document.querySelector(".error-div")
  errorDiv.style.display = "block";
  errorDiv.style.top = "-100px";
setTimeout(function() {
  errorDiv.style.top = "10px";
}, 10);
setTimeout(function() {
  errorDiv.style.top = "-100px";
setTimeout(function() {
  errorDiv.style.display = "none";
}, 500);
}, 7000);
}
//showError();


function sendMail(text) {
  var phoneNumber = localStorage.getItem("quicksubPhoneNumber");
  var emailAddress = localStorage.getItem("quicksubEmailAddress");

  emailjs.send('service_p75z4dv', 'template_tspz9nt', {
  phonenumber: phoneNumber,
  email: emailAddress,
  complain_button_id: "QuickSub Complain",
  complaindescription: text,
  })
.then(function(response) {
  // Save and display the message
  const msg = { text, side: 'right' };
  storedMessages.push(msg);
  saveMessages();
  renderMessages();
  var messageInput = document.getElementById('messageInput');
  messageInput.value = '';

  maybeAutoReply();
  enableSendButton();
})
.catch(function(error) {
  console.error("EmailJS Error:", error);
  showError();
  showError();
  enableSendButton();
  });
}

const chatContainer = document.getElementById('chatContainer');
var messageInput = document.getElementById('messageInput');
//localStorage.setItem('quicksubEmailAddress', "exclusiveben10@gmail.com");
const email = localStorage.getItem('quicksubEmailAddress') || '';
const storedMessages = JSON.parse(localStorage.getItem('quicksubComplains') || '[]');
var nickName = localStorage.getItem("quicksubNickName");
if (!nickName) {
  var fullName = localStorage.getItem("quicksubFullName");
  nickName = fullName ? fullName.split(" ")[0] : "User";
}
var autoReplyMessage = `Hi ${nickName}, we've received your message and will get back to you soon. Thanks for your patience.`;

function renderMessages() {
  chatContainer.innerHTML = '';

// Show placeholder if no messages
if (storedMessages.length === 0) {
  const placeholder = document.createElement('div');
  placeholder.classList.add('message', 'left');
  placeholder.id = 'empty-placeholder';
  placeholder.innerHTML = `<div class="tag">QuickSub</div>Hi ${nickName}! Feel free to send us your complaint and weâ€™ll get back to you shortly.`;
  chatContainer.appendChild(placeholder);
} else {
// Render stored messages
storedMessages.forEach(msg => {
  const bubble = document.createElement('div');
  bubble.classList.add('message', msg.side);
  bubble.innerHTML = msg.side === 'left'
  ? `<div class="tag">QuickSub</div>${msg.text}`
  : msg.text;
  chatContainer.appendChild(bubble);
  });
}

  chatContainer.scrollTop = chatContainer.scrollHeight;
}

function saveMessages() {
  localStorage.setItem('quicksubComplains', JSON.stringify(storedMessages));
}
function sendMessage() {
  const text = messageInput.value.trim();
  if (!text) return;
  disableSendButton();
  sendMail(text); // pass the message text
}

//var autoReplyMessage = `Hi ${nickName},`;
function maybeAutoReply() {
if (email === 'exclusiveben10@gmail.com') {
  const lastAuto = localStorage.getItem('quicksubLastAutoReply');
  const lastLeftMsg = [...storedMessages].reverse().find(m => m.side === 'left');
var autoReplyMessage = `Hi ${nickName}, if you have a complaint or suggestion please kindly drop it below. In what way can we assist you today?.`;
if (lastLeftMsg?.text !== autoReplyMessage) {
  const reply = { text: autoReplyMessage, side: 'left' };
  storedMessages.push(reply);
  localStorage.setItem('quicksubLastAutoReply', autoReplyMessage);
  saveMessages();
  renderMessages();
}
} else if (email === 'jacksophia343@gmail.com') {
  const lastAuto = localStorage.getItem('quicksubLastAutoReply');
  const lastLeftMsg = [...storedMessages].reverse().find(m => m.side === 'left');
var autoReplyMessage = `Hi ${nickName}, how can we help you today?`;
if (lastLeftMsg?.text !== autoReplyMessage) {
  const reply = { text: autoReplyMessage, side: 'left' };
  storedMessages.push(reply);
  localStorage.setItem('quicksubLastAutoReply', autoReplyMessage);
  saveMessages();
  renderMessages();
}
} else if (email === 'paulabimbola207@gmail.com') {
  const lastAuto = localStorage.getItem('quicksubLastAutoReply');
  const lastLeftMsg = [...storedMessages].reverse().find(m => m.side === 'left');
var autoReplyMessage = `Hi ${nickName}, please send us the sessionID of the transaction.`;
if (lastLeftMsg?.text !== autoReplyMessage) {
  const reply = { text: autoReplyMessage, side: 'left' };
  storedMessages.push(reply);
  localStorage.setItem('quicksubLastAutoReply', autoReplyMessage);
  saveMessages();
  renderMessages();
}
} else if (email === 'ismailaisiaka500@gmail.com') {
  const lastAuto = localStorage.getItem('quicksubLastAutoReply');
  const lastLeftMsg = [...storedMessages].reverse().find(m => m.side === 'left');
var autoReplyMessage = `Hi ${nickName}, the issue will be solved in an hour, please bear with us.`;
if (lastLeftMsg?.text !== autoReplyMessage) {
  const reply = { text: autoReplyMessage, side: 'left' };
  storedMessages.push(reply);
  localStorage.setItem('quicksubLastAutoReply', autoReplyMessage);
  saveMessages();
  renderMessages();
}
} else if (email === 'mohammedsamuel1353@gmail.com') {
  const lastAuto = localStorage.getItem('quicksubLastAutoReply');
  const lastLeftMsg = [...storedMessages].reverse().find(m => m.side === 'left');
var autoReplyMessage = `Hi ${nickName}, the link is https://quicksub.vercel.app. Invite your friends and family.`;
if (lastLeftMsg?.text !== autoReplyMessage) {
  const reply = { text: autoReplyMessage, side: 'left' };
  storedMessages.push(reply);
  localStorage.setItem('quicksubLastAutoReply', autoReplyMessage);
  saveMessages();
  renderMessages();
}
} else if (email === 'winnerandie24@gmail.com') {
  const lastAuto = localStorage.getItem('quicksubLastAutoReply');
  const lastLeftMsg = [...storedMessages].reverse().find(m => m.side === 'left');
var autoReplyMessage = `Hi ${nickName}, on the Deposit Money page, copy the account number generated and make a transfer to the account. The money will automatically reflect in your wallet.`;
if (lastLeftMsg?.text !== autoReplyMessage) {
  const reply = { text: autoReplyMessage, side: 'left' };
  storedMessages.push(reply);
  localStorage.setItem('quicksubLastAutoReply', autoReplyMessage);
  saveMessages();
  renderMessages();
}
}

else if (email === 'fuhadadekunle727@gmail.com') {
  const lastAuto = localStorage.getItem('quicksubLastAutoReply');
  const lastLeftMsg = [...storedMessages].reverse().find(m => m.side === 'left');
var autoReplyMessage = `Hi ${nickName}, the recharge card PIN will be sent to your registered email address.`;
if (lastLeftMsg?.text !== autoReplyMessage) {
  const reply = { text: autoReplyMessage, side: 'left' };
  storedMessages.push(reply);
  localStorage.setItem('quicksubLastAutoReply', autoReplyMessage);
  saveMessages();
  renderMessages();
}
} else if (email === 'kunae5192@gmail.com') {
  const lastAuto = localStorage.getItem('quicksubLastAutoReply');
  const lastLeftMsg = [...storedMessages].reverse().find(m => m.side === 'left');
var autoReplyMessage = `Hi ${nickName}, Sorry for the inconvenience, the deposit has been fixed.`;
if (lastLeftMsg?.text !== autoReplyMessage) {
  const reply = { text: autoReplyMessage, side: 'left' };
  storedMessages.push(reply);
  localStorage.setItem('quicksubLastAutoReply', autoReplyMessage);
  saveMessages();
  renderMessages();
}
} else if (email === 'ismailaisiaka500@gmail.com') {
  const lastAuto = localStorage.getItem('quicksubLastAutoReply');
  const lastLeftMsg = [...storedMessages].reverse().find(m => m.side === 'left');
var autoReplyMessage = `Hi ${nickName}, Sorry for the inconvenience, the issue will be solved soon.`;
if (lastLeftMsg?.text !== autoReplyMessage) {
  const reply = { text: autoReplyMessage, side: 'left' };
  storedMessages.push(reply);
  localStorage.setItem('quicksubLastAutoReply', autoReplyMessage);
  saveMessages();
  renderMessages();
}
} else if (email === 'ufghhbb@gmail.com') {
  const lastAuto = localStorage.getItem('quicksubLastAutoReply');
  const lastLeftMsg = [...storedMessages].reverse().find(m => m.side === 'left');
var autoReplyMessage = `Hi ${nickName}, how can we help you today?`;
if (lastLeftMsg?.text !== autoReplyMessage) {
  const reply = { text: autoReplyMessage, side: 'left' };
  storedMessages.push(reply);
  localStorage.setItem('quicksubLastAutoReply', autoReplyMessage);
  saveMessages();
  renderMessages();
}
} else if (email === 'Ndaeyo999@gmail.com') {
  const lastAuto = localStorage.getItem('quicksubLastAutoReply');
  const lastLeftMsg = [...storedMessages].reverse().find(m => m.side === 'left');
var autoReplyMessage = `Hi ${nickName}, the issue is from your service provider. We're working on it now.`;
if (lastLeftMsg?.text !== autoReplyMessage) {
  const reply = { text: autoReplyMessage, side: 'left' };
  storedMessages.push(reply);
  localStorage.setItem('quicksubLastAutoReply', autoReplyMessage);
  saveMessages();
  renderMessages();
}
} else if (email === 'ojonimijoshua54@gmail.com') {
  const lastAuto = localStorage.getItem('quicksubLastAutoReply');
  const lastLeftMsg = [...storedMessages].reverse().find(m => m.side === 'left');
var autoReplyMessage = `Hi ${nickName},yes the account number is meant for you alone.`;
if (lastLeftMsg?.text !== autoReplyMessage) {
  const reply = { text: autoReplyMessage, side: 'left' };
  storedMessages.push(reply);
  localStorage.setItem('quicksubLastAutoReply', autoReplyMessage);
  saveMessages();
  renderMessages();
}
} else if (email === 'paulalabi606@gmail.com') {
  const lastAuto = localStorage.getItem('quicksubLastAutoReply');
  const lastLeftMsg = [...storedMessages].reverse().find(m => m.side === 'left');
var autoReplyMessage = `Hi ${nickName}, sorry our server failed to record your transaction. We've fixed it.`;
if (lastLeftMsg?.text !== autoReplyMessage) {
  const reply = { text: autoReplyMessage, side: 'left' };
  storedMessages.push(reply);
  localStorage.setItem('quicksubLastAutoReply', autoReplyMessage);
  saveMessages();
  renderMessages();
}
} else if (email === 'EMAIL8@gmail.com') {
  const lastAuto = localStorage.getItem('quicksubLastAutoReply');
  const lastLeftMsg = [...storedMessages].reverse().find(m => m.side === 'left');
var autoReplyMessage = `Hi ${nickName},`;
if (lastLeftMsg?.text !== autoReplyMessage) {
  const reply = { text: autoReplyMessage, side: 'left' };
  storedMessages.push(reply);
  localStorage.setItem('quicksubLastAutoReply', autoReplyMessage);
  saveMessages();
  renderMessages();
}
} else if (email === 'EMAIL9@gmail.com') {
  const lastAuto = localStorage.getItem('quicksubLastAutoReply');
  const lastLeftMsg = [...storedMessages].reverse().find(m => m.side === 'left');
var autoReplyMessage = `Hi ${nickName},`;
if (lastLeftMsg?.text !== autoReplyMessage) {
  const reply = { text: autoReplyMessage, side: 'left' };
  storedMessages.push(reply);
  localStorage.setItem('quicksubLastAutoReply', autoReplyMessage);
  saveMessages();
  renderMessages();
}
} else if (email === 'EMAIL10@gmail.com') {
  const lastAuto = localStorage.getItem('quicksubLastAutoReply');
  const lastLeftMsg = [...storedMessages].reverse().find(m => m.side === 'left');
var autoReplyMessage = `Hi ${nickName},`;
if (lastLeftMsg?.text !== autoReplyMessage) {
  const reply = { text: autoReplyMessage, side: 'left' };
  storedMessages.push(reply);
  localStorage.setItem('quicksubLastAutoReply', autoReplyMessage);
  saveMessages();
  renderMessages();
}
}
}

  renderMessages();
  maybeAutoReply();



var messageInput = document.getElementById('messageInput');
var NINVerified = localStorage.getItem("quicksubNINVerified") || "";

messageInput.addEventListener("input", function() {
if (!NINVerified) {
  alert("To contact customer care, please verify your account first.");
  window.location.href = "Account-Verification.html";
}
});




  </script>
  </body>

</html>